(()=>{"use strict";window.addEventListener("load",(function(){setTimeout((function(){document.querySelector(".loading").classList.add("done")}),500)}));var e=(new Tone.Filter).toDestination();e.set({frequency:1200,type:"highpass",rolloff:-24});var t=(new Tone.PolySynth).toDestination();t.connect(e);var n=Tone.now(),s={},a={},i=["E3","F3","Gb3","G3","Ab3","A3","Bb3","B3","C4","Db4","D4","Eb4","E4","F4","Gb4","G4","Ab4","A4","Bb4","B4","C5","Db5","D5","Eb5","E5","F5","Gb5","G5","Ab5"],d=(i.map((function(e,t){return i[i.length-t-1]})),"zxcvbnm,./asdfghjkl;'qwertyuiop[]1234567890-=".split("")),o="ZXCVBNM,./ASDFGHJKL;'QWERTYUIOP[]1234567890-=".split("");d.forEach((function(e){s[e]=0})),o.forEach((function(e){s[e]=0}));var c={};d.forEach((function(e,t){c[e]=t<10?i[t]:t<21?i[t-5]:t<33?i[t-11]:i[t-18]})),document.addEventListener("DOMContentLoaded",(function(){var i=document.getElementById("freq"),d=document.getElementById("res"),o=document.getElementById("filter"),r=document.getElementById("filter-name");i.addEventListener("input",(function(t){e.set({frequency:Math.pow(t.target.value,2)/5})})),d.addEventListener("input",(function(e){t.set({detune:e.target.value})})),o.addEventListener("input",(function(t){"1"===t.target.value?(e.set({type:"lowpass"}),r.innerHTML="LPF"):"2"===t.target.value?(e.set({type:"highpass"}),r.innerHTML="HPF"):"3"===t.target.value?(e.set({type:"bandpass"}),r.innerHTML="BPF"):(e.set({type:"allpass"}),r.innerHTML="APF")})),document.addEventListener("keydown",(function(e){if(0===s[e.key]){s[e.key]=1,a[c[e.key]]=1,t.triggerAttack(c[e.key],n);var i=document.getElementsByClassName("key-".concat(e.key))[0];i&&i.classList.add("pressed")}})),document.addEventListener("keyup",(function(e){s[e.key]=0,delete a[c[e.key]],t.triggerRelease(c[e.key],n);var i=document.getElementsByClassName("key-".concat(e.key))[0];i&&i.classList.remove("pressed")}),!1),document.addEventListener("click",(function(e){if(["sine","triangle","square","sawtooth"].includes(e.target.classList[0])){var n=document.getElementsByClassName("selected")[0];n&&n.classList.remove("selected"),e.target.classList.add("selected"),t.set({oscillator:{type:e.target.classList[0]}})}}));var l=document.getElementById("modal-container");document.getElementById("help").addEventListener("click",(function(){l.classList.remove("hidden")})),l.addEventListener("click",(function(){l.classList.add("hidden")}))}))})();
//# sourceMappingURL=main.js.map